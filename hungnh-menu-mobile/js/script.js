function customTooltips(){jQuery(document).on("click",".toggle-tooltips-click",function(){let e=jQuery(this).hasClass("active"),t=jQuery(this).attr("data-id"),o=jQuery(this).attr("data-cover-scrolltop");e?(jQuery(this).removeClass("active"),t?jQuery("#"+t).hide():jQuery(this).parent().find(".custom-tooltips-container").hide(),o?jQuery(".cover-scrolltop-background").hide():jQuery(".cover-background").hide()):(jQuery(this).addClass("active"),t?jQuery("#"+t).show():jQuery(this).parent().find(".custom-tooltips-container").show(),o?jQuery(".cover-scrolltop-background").show():jQuery(".cover-background").show())})}function selectBox(){jQuery(document).on("change",".select-field-hungnh select",function(){let e=jQuery(this);e.find("option").each(function(t,o){if(jQuery(o).attr("selected")){let t=jQuery(o).text();e.parent().find("input[type='text']").val(t)}})}),jQuery(".select-field-hungnh").each(function(e,t){let o=jQuery(this);jQuery(t).find("select option").each(function(e,t){if(jQuery(t).attr("selected")){let e=jQuery(t).text();o.find("input[type='text']").val(e)}})})}function closeToolTips(e){jQuery(e).closest(".custom-tooltips-container").hide(),jQuery(".cover-background").hide(),jQuery(".cover-scrolltop-background").hide(),jQuery(e).closest(".custom-tooltips-container").parent().find(".toggle-tooltips-click").removeClass("active")}function quicklyCloseCoverBackground(){jQuery(window).on("click",function(e){"string"==typeof e.target.className&&(e.target.className.indexOf("cover-background")>-1||e.target.className.indexOf("cover-scrolltop-background")>-1||e.target.className.indexOf("layerpopup")>-1)&&(jQuery(".custom-tooltips-container").hide(),jQuery(".cover-background").hide(),jQuery(".cover-scrolltop-background").hide(),jQuery(".layerpopup").hide(),jQuery(".toggle-tooltips-click").removeClass("active"))}),jQuery(document).on("click",".close-custom-tooltips",function(){closeToolTips(this)}),jQuery(document).on("click",".popup-close",function(){closeLayerpopup(this),jQuery(".popup-image-slider").slick("unslick")})}function showLoading(e,t=!1){t?jQuery(e).css({display:"inline-block"}):jQuery(e).show(),jQuery(e).css({opacity:1})}function hideLoading(e){jQuery(e).hide(),jQuery(e).css({opacity:0})}function isNumberKey(e){var t=e.which?e.which:e.keyCode;return t>47&&t<58}function checkValidClass(e,t){e?jQuery(t).removeClass("invalid"):jQuery(t).addClass("invalid")}function removeNumFormat(e){for(;e.indexOf(".")>0;)e=e.replace(".","");for(;e.indexOf(",")>0;)e=e.replace(",","");return e}function numFormat(e){return(e+"").replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".")}function dateFormat(e){let t=new Date(e),o=t.getDate(),c=t.getMonth();return c<=9&&(c="0"+c),o+"/"+c+"/"+t.getFullYear()}function dropdown(){jQuery(document).on("click",".custom-dropdown .dropdown-item",function(){let e=jQuery(this),t=e.find(".dropdown-cnt-txt").text(),o=e.closest(".custom-dropdown").data("idSubmit");if(""!=o){let t=e.data("value");e.closest(".custom-dropdown").find("#"+o).val(t)}e.closest(".custom-dropdown").find("input[type='text']").val(t)}),jQuery(".custom-dropdown").each(function(e,t){let o=jQuery(this);jQuery(t).find(".dropdown-item").each(function(e,t){if(jQuery(t).hasClass("selected")){let e=jQuery(t).text();o.closest(".custom-dropdown").find("input[type='text']").val(e)}})})}function checkClickCallMeBack(){jQuery(document).on("click","#callBackmeDontShowToday",function(){let e=new Date,t=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate();localStorage.setItem("call_me_back",t)})}function autoShowCallbackForm(){setTimeout(function(){let e=localStorage.getItem("call_me_back"),t=new Date;t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()!=e&&jQuery(document).find("#requestCallbackBtn").click()},1e4)}function submitCallbackForm(){showLoading(".callMeBack-loading");let e=!0;if(validateReason()||(e=!1),validateTime()||(e=!1),validateAddr()||(e=!1),validatePhone()||(e=!1),e){let e="/wp-admin/admin-ajax.php",t={action:"saveCallMeBack",hungnhmb_gettax:hungnhmb_gettax.hungnhmb_gettax_nonce,reason:jQuery("#callMeBack-reason").val(),time:jQuery("#callMeBack-time").val(),province:jQuery("#callMeBack-province option:selected").val(),phone:jQuery("#callMeBack-phone").val()};jQuery.ajax({url:e,data:t,dataType:"json",type:"post",success:function(e){console.log(e.success),jQuery("#send_request_msg").text(e.msg),""!=e.msg?jQuery(".menu-pc-hungnh .callMeBack .custom-tooltips-container").addClass("contain-msg"):jQuery(".menu-pc-hungnh .callMeBack .custom-tooltips-container").removeClass("contain-msg"),e.success?jQuery("#send_request_msg").removeClass("error_msg"):jQuery("#send_request_msg").addClass("error_msg"),hideLoading(".callMeBack-loading")},error:function(e){console.log(e),hideLoading(".callMeBack-loading")}})}else hideLoading(".callMeBack-loading")}function validateTime(){let e=jQuery("#callMeBack-time"),t=!0;return(e.val()>24||e.val()<0||""==e.val())&&(t=!1),checkValidClass(t,"#callMeBack-time"),t}function validateReason(){let e=!0;return""==jQuery("#callMeBack-reason").val()&&(e=!1),checkValidClass(e,"#callMeBack-reason"),e}function validateAddr(){let e=!0;return""==jQuery("#callMeBack-province option:selected").val()&&(e=!1),checkValidClass(e,"#callMeBack-province-input"),e}function validatePhone(){var e=jQuery("#callMeBack-phone").val();let t=!0;return""==e?t=!1:e.length>18&&(alert("Số điện thoại không hợp lệ"),t=!1),checkValidClass(t,"#callMeBack-phone"),t}jQuery(function(){customTooltips(),quicklyCloseCoverBackground(),selectBox()}),jQuery(function(){checkClickCallMeBack(),autoShowCallbackForm()});